
<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<link rel="stylesheet" href="//bootswatch.com/flatly/bootstrap.css"/>
		<style>
			body {
				font-family: "Lato","Hiragino Sans GB", "Helvetica Neue", "Micrsoft YaHei", sans-serif;
				background-color: #f7f8f9;
			}
			ul {
				margin-top: 10px;
			}
			p {
				margin-top: 10px;
				margin-bottom: 10px;
			}
			.well{
				max-height: 400px;
				overflow-y: scroll;
			}
		</style>
	</head>

	<body>
		<div id="app">
			
			<div class="page-header">
				<h2>链接处于选中</h2>
			</div>
			<div class="list-group">
				<a class="list-group-item" v-link="{ path: '/home', activeClass: 'active'}">Home</a>
				<a class="list-group-item" v-link="{ path: '/about', activeClass: 'active'}">About</a>
			</div>
			<div class="panel-body">
					<router-view></router-view>
				</div>
			
		</div>

		<template id="home">
			<div>
				<h1>Home</h1>
				<p>{{msg}}</p>
			</div>
			<div>
				<ul class="nav nav-tabs">
					<li :class="currentPath == '/home/news' ? 'active': ''">
						<!--为v-link指令设定activeClass是不起作用的，因为我们使用的是bootstrap的样式，需要设置a标签的父元素<li>才能让链接看起来处于选中状态-->
						<a v-link="{ path: '/home/news'}">News</a>
					</li>
					<li :class="currentPath == '/home/message' ? 'active': ''">
						<a v-link="{ path: '/home/message'}">Messages</a>
					</li>
				</ul>
				<router-view></router-view>
			</div>
		</template>

		<template id="about">
			<div>
				<h1>About</h1>
				<p>This is the tutorial about vue-router.</p>
			</div>
		</template>

		<template id="news">
			<div>
				<ul>
					<li>News 01</li>
					<li>News 02</li>
					<li>News 03</li>
				</ul>
			</div>

		</template>
		<template id="message">
			<ul>
				<li>Message 01</li>
				<li>Message 02</li>
				<li>Message 03</li>
			</ul>
		</template>
	</body>
	<script src="vue.js"></script>
	<script src="vue-router.js"></script>
	<script>
		var Home = Vue.extend({
			template: '#home',
			data: function() {
				return {
					msg: 'Hello, vue router!',
					currentPath: ''
				}
			},
			route: {
				data: function(transition){
					transition.next({
						currentPath: transition.to.path
					})
				}
			}
		})

		var News = Vue.extend({
			template: '#news'
		})

		var Message = Vue.extend({
			template: '#message'
		})

		var About = Vue.extend({
			template: '#about'
		})

		var router = new VueRouter()
		router.redirect({
			'/': '/home'
		})
		router.map({
			'/home': {
				component: Home,
				subRoutes: {
					'/news': {
						component: News
					},
					'/message': {
						component: Message
					}
				}
			},
			'/about': {
				component: About
			}
		})

		var App = Vue.extend({})
		router.start(App, '#app')
	</script>

</html>